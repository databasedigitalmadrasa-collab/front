(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,510965,e=>{"use strict";var r=e.i(368340);let t=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:c,...d},f)=>(0,r.createElement)("svg",{ref:f,...l,width:i,height:i,stroke:e,strokeWidth:s?24*Number(o)/Number(i):o,className:t("lucide",a),...d},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),o=(e,l)=>{let o=(0,r.forwardRef)(({className:o,...s},a)=>(0,r.createElement)(i,{ref:a,iconNode:l,className:t(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,o),...s}));return o.displayName=`${e}`,o};e.s(["default",()=>o],510965)},801244,(e,r,t)=>{r.exports=e.r(45586)},787524,e=>{"use strict";let r=(0,e.i(510965).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],787524)},776872,e=>{"use strict";var r=e.i(794313),t=e.i(368340),l=e.i(801244),i=e.i(787524);let o="https://srv.digitalmadrasa.co.in/api/v1";function s(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),a=e.code,[n,c]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{if(!a)return s.push("/enroll/1");try{console.log("Verifying referral code:",a);let e=await fetch(`${o}/verify-referral`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referral_code:a})}),r=await e.json();if(console.log("Verification response:",r),!r.valid){console.log("Invalid referral code, redirecting without ref parameter"),c("Invalid referral code"),setTimeout(()=>{s.push("/enroll/1")},2e3);return}console.log("Valid referral code, recording click"),await fetch(`${o}/reffral-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referral_code:a})}),console.log("Referral click recorded, redirecting with ref parameter..."),s.push(`/enroll/1?ref=${encodeURIComponent(a)}`)}catch(e){console.error("Error processing referral:",e),c("Error processing referral link"),setTimeout(()=>{s.push("/enroll/1")},2e3)}})()},[a,s]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,r.jsx)("div",{className:"text-center",children:n?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(i.AlertCircle,{className:"w-12 h-12 text-red-500 mx-auto"}),(0,r.jsx)("p",{className:"text-lg text-red-600 font-medium",children:n}),(0,r.jsx)("p",{className:"text-sm text-slate-600",children:"Redirecting to enrollment..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,r.jsx)("p",{className:"text-lg text-slate-600",children:"Verifying referral code..."})]})})})}e.s(["default",()=>s])}]);