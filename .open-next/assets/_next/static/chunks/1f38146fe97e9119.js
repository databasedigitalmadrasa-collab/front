(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,120682,e=>{"use strict";var t=e.i(368340);let a=0,s=new Map,r=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=[],n={toasts:[]};function l(e){n=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(n,e),i.forEach(e=>{e(n)})}function d({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function c(){let[e,a]=t.useState(n);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}e.s(["toast",()=>d,"useToast",()=>c])},468793,e=>{"use strict";let t=(0,e.i(510965).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],468793)},184762,e=>{"use strict";var t=e.i(794313),a=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},970065,e=>{"use strict";var t=e.i(794313),a=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},229439,e=>{"use strict";let t=(0,e.i(510965).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],229439)},319036,e=>{"use strict";var t=e.i(794313),a=e.i(368340),s=e.i(178896),r=e.i(400866),i=e.i(929517),n=e.i(788552),l=e.i(455726),d=e.i(422377),c=e.i(620673),o="Switch",[u,h]=(0,i.createContextScope)(o),[x,p]=u(o),m=a.forwardRef((e,i)=>{let{__scopeSwitch:l,name:d,checked:o,defaultChecked:u,required:h,disabled:p,value:m="on",onCheckedChange:j,form:g,...f}=e,[b,_]=a.useState(null),N=(0,r.useComposedRefs)(i,e=>_(e)),C=a.useRef(!1),S=!b||g||!!b.closest("form"),[w=!1,T]=(0,n.useControllableState)({prop:o,defaultProp:u,onChange:j});return(0,t.jsxs)(x,{scope:l,checked:w,disabled:p,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":w,"aria-required":h,"data-state":v(w),"data-disabled":p?"":void 0,disabled:p,value:m,...f,ref:N,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{T(e=>!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,t.jsx)(y,{control:b,bubbles:!C.current,name:d,value:m,checked:w,required:h,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});m.displayName=o;var j="SwitchThumb",g=a.forwardRef((e,a)=>{let{__scopeSwitch:s,...r}=e,i=p(j,s);return(0,t.jsx)(c.Primitive.span,{"data-state":v(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});g.displayName=j;var y=e=>{let{control:s,checked:r,bubbles:i=!0,...n}=e,c=a.useRef(null),o=(0,l.usePrevious)(r),u=(0,d.useSize)(s);return a.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(a)}},[o,r,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var f=e.i(647163);function b({className:e,...a}){return(0,t.jsx)(m,{"data-slot":"switch",className:(0,f.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(g,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>b],319036)},584675,e=>{"use strict";let t=(0,e.i(510965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],584675)},269035,e=>{"use strict";var t=e.i(794313),a=e.i(368340),s=e.i(620673),r="horizontal",i=["horizontal","vertical"],n=a.forwardRef((e,a)=>{var n;let{decorative:l,orientation:d=r,...c}=e,o=(n=d,i.includes(n))?d:r;return(0,t.jsx)(s.Primitive.div,{"data-orientation":o,...l?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:a})});n.displayName="Separator";var l=e.i(647163);function d({className:e,orientation:a="horizontal",decorative:s=!0,...r}){return(0,t.jsx)(n,{"data-slot":"separator",decorative:s,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}e.s(["Separator",()=>d],269035)},77282,e=>{"use strict";var t=e.i(794313),a=e.i(368340),s=e.i(167881),r=e.i(23750),i=e.i(184762),n=e.i(10708),l=e.i(62870),d=e.i(319036),c=e.i(970065),o=e.i(269035),u=e.i(584675),h=e.i(468793),x=e.i(229439),p=e.i(934290),m=e.i(120682),j=e.i(801244);function g(){let{toast:e}=(0,m.useToast)(),g=(0,j.useRouter)(),[y,v]=(0,a.useState)({title:"",short_description:"",description:"",currency:"INR",monthly_amount:"",yearly_amount:"",discounted_amount:"",subscription_type:"both",gst_tax:"18",is_tax_included:!1,is_active:!0,features:[],trial_days:"0"}),[f,b]=(0,a.useState)(""),_=()=>{f.trim()&&(v({...y,features:[...y.features,f.trim()]}),b(""))},N=(()=>{let e=Number.parseFloat(y.monthly_amount)||0,t=Number.parseFloat(y.yearly_amount)||0,a=12*e;if(a>t&&t>0){let e=a-t,s=(e/a*100).toFixed(0);return{savings:e,percentage:s}}return null})();return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-8",children:[(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto mb-6",children:[(0,t.jsxs)(s.Button,{variant:"ghost",onClick:()=>g.back(),className:"mb-4 gap-2",children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4"}),"Back to Plans"]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#0066ff] to-[#0052cc] rounded-2xl p-8 text-white shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl lg:text-3xl font-heading font-bold",children:"Create New Plan"}),(0,t.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Define pricing, features, and settings for a new subscription plan"})]})]}),(0,t.jsx)("div",{className:"max-w-[1200px] mx-auto",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Basic Information"}),(0,t.jsx)(c.CardDescription,{children:"Essential details about your subscription plan"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.Label,{htmlFor:"title",children:["Plan Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(r.Input,{id:"title",placeholder:"e.g., Pro Plan",value:y.title,onChange:e=>v({...y,title:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.Label,{htmlFor:"short_description",children:["Short Description ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(r.Input,{id:"short_description",placeholder:"One-line description for cards and listings",value:y.short_description,onChange:e=>v({...y,short_description:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"description",children:"Full Description"}),(0,t.jsx)(i.Textarea,{id:"description",placeholder:"Detailed description of what this plan includes...",value:y.description,onChange:e=>v({...y,description:e.target.value}),rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"currency",children:"Currency"}),(0,t.jsxs)(l.Select,{value:y.currency,onValueChange:e=>v({...y,currency:e}),children:[(0,t.jsx)(l.SelectTrigger,{children:(0,t.jsx)(l.SelectValue,{})}),(0,t.jsxs)(l.SelectContent,{children:[(0,t.jsx)(l.SelectItem,{value:"INR",children:"INR (₹) - Indian Rupee"}),(0,t.jsx)(l.SelectItem,{value:"USD",children:"USD ($) - US Dollar"})]})]})]})]})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Pricing"}),(0,t.jsx)(c.CardDescription,{children:"Set monthly and yearly pricing with optional discounts"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.Label,{htmlFor:"monthly_amount",children:["Monthly Amount (","INR"===y.currency?"₹":"$",")"]}),(0,t.jsx)(r.Input,{id:"monthly_amount",type:"number",placeholder:"499",value:y.monthly_amount,onChange:e=>v({...y,monthly_amount:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.Label,{htmlFor:"yearly_amount",children:["Yearly Amount (","INR"===y.currency?"₹":"$",")"]}),(0,t.jsx)(r.Input,{id:"yearly_amount",type:"number",placeholder:"4990",value:y.yearly_amount,onChange:e=>v({...y,yearly_amount:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"discounted_amount",children:"Discounted Amount (Optional)"}),(0,t.jsx)(r.Input,{id:"discounted_amount",type:"number",placeholder:"399",value:y.discounted_amount,onChange:e=>v({...y,discounted_amount:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{children:"Subscription Type"}),(0,t.jsxs)(l.Select,{value:y.subscription_type,onValueChange:e=>v({...y,subscription_type:e}),children:[(0,t.jsx)(l.SelectTrigger,{children:(0,t.jsx)(l.SelectValue,{})}),(0,t.jsxs)(l.SelectContent,{children:[(0,t.jsx)(l.SelectItem,{value:"monthly",children:"Monthly Only"}),(0,t.jsx)(l.SelectItem,{value:"annual",children:"Annual Only"}),(0,t.jsx)(l.SelectItem,{value:"both",children:"Both Available"})]})]})]}),N&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Annual Savings"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:["INR"===y.currency?"₹":"$",N.savings.toFixed(0)," (",N.percentage,"% off)"]})]})]})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Tax & Billing"}),(0,t.jsx)(c.CardDescription,{children:"GST and tax configuration"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"gst_tax",children:"GST Tax (%)"}),(0,t.jsx)(r.Input,{id:"gst_tax",type:"number",placeholder:"18",value:y.gst_tax,onChange:e=>v({...y,gst_tax:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"is_tax_included",children:"Tax Included in Price"}),(0,t.jsx)(d.Switch,{id:"is_tax_included",checked:y.is_tax_included,onCheckedChange:e=>v({...y,is_tax_included:e})})]})]})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Plan Features"}),(0,t.jsx)(c.CardDescription,{children:"List what's included in this plan"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Input,{placeholder:"Add a feature...",value:f,onChange:e=>b(e.target.value),onKeyPress:e=>"Enter"===e.key&&_()}),(0,t.jsx)(s.Button,{onClick:_,size:"icon",children:(0,t.jsx)(x.Plus,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[y.features.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{v({...y,features:y.features.filter((e,t)=>t!==a)})},children:(0,t.jsx)(p.X,{className:"w-4 h-4"})})]},a)),0===y.features.length&&(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No features added yet"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Actions"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-3",children:[(0,t.jsxs)(s.Button,{onClick:()=>(t=>{if(!y.title||!y.short_description)return void e({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});let a={id:Date.now(),title:y.title,short_description:y.short_description,description:y.description,currency:y.currency,monthly_amount:Number.parseFloat(y.monthly_amount)||0,yearly_amount:Number.parseFloat(y.yearly_amount)||0,discounted_amount:y.discounted_amount?Number.parseFloat(y.discounted_amount):void 0,discount_percentage:y.discounted_amount?Math.round((Number.parseFloat(y.monthly_amount)-Number.parseFloat(y.discounted_amount))/Number.parseFloat(y.monthly_amount)*100):void 0,subscription_type:y.subscription_type,gst_tax:Number.parseFloat(y.gst_tax)||0,is_tax_included:y.is_tax_included,is_active:!!t||y.is_active,subscribers_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},s=localStorage.getItem("digital_madarsa_plans"),r=s?JSON.parse(s):[];r.push(a),localStorage.setItem("digital_madarsa_plans",JSON.stringify(r)),e({title:t?"Plan published":"Plan saved as draft",description:`${y.title} has been successfully ${t?"published":"saved"}`}),g.push("/admin/plans")})(!0),className:"w-full gap-2 bg-[#0066ff] hover:bg-[#0052cc]",children:[(0,t.jsx)(h.Eye,{className:"w-4 h-4"}),"Save & Publish"]}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>g.back(),className:"w-full",children:"Cancel"})]})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Visibility"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.Label,{htmlFor:"is_active",children:"Plan Active"}),(0,t.jsx)(d.Switch,{id:"is_active",checked:y.is_active,onCheckedChange:e=>v({...y,is_active:e})})]})})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Quick Preview"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Title"}),(0,t.jsx)("p",{className:"font-medium",children:y.title||"Not set"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Monthly"}),(0,t.jsxs)("p",{className:"font-medium",children:["INR"===y.currency?"₹":"$",y.monthly_amount||"0"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Yearly"}),(0,t.jsxs)("p",{className:"font-medium",children:["INR"===y.currency?"₹":"$",y.yearly_amount||"0"]})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Features"}),(0,t.jsxs)("p",{className:"font-medium",children:[y.features.length," added"]})]})]})]})]})]})})]})}e.s(["default",()=>g])}]);