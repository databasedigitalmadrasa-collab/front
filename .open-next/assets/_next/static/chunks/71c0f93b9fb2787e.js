(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,468793,e=>{"use strict";let t=(0,e.i(510965).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],468793)},286591,e=>{"use strict";let t=(0,e.i(510965).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],286591)},813637,e=>{"use strict";let t=(0,e.i(510965).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],813637)},184762,e=>{"use strict";var t=e.i(794313),s=e.i(647163);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},462412,e=>{"use strict";let t=(0,e.i(510965).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],462412)},994179,e=>{"use strict";var t=e.i(794313),s=e.i(564701),a=e.i(294237),r=e.i(647163);let n=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,asChild:i=!1,...l}){let o=i?s.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,r.cn)(n({variant:a}),e),...l})}e.s(["Badge",()=>i])},120682,e=>{"use strict";var t=e.i(368340);let s=0,a=new Map,r=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},n=[],i={toasts:[]};function l(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),n.forEach(e=>{e(i)})}function o({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,s]=t.useState(i);return t.useEffect(()=>(n.push(s),()=>{let e=n.indexOf(s);e>-1&&n.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}e.s(["toast",()=>o,"useToast",()=>d])},260737,e=>{"use strict";var t=e.i(368340),s=e.i(400866),a=e.i(771429),r=e=>{var r;let i,l,{present:o,children:d}=e,c=function(e){var s,r;let[i,l]=t.useState(),o=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[m,u]=(s=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>r[e][t]??e,s));return t.useEffect(()=>{let e=n(o.current);c.current="mounted"===m?e:"none"},[m]),(0,a.useLayoutEffect)(()=>{let t=o.current,s=d.current;if(s!==e){let a=c.current,r=n(t);e?u("MOUNT"):"none"===r||t?.display==="none"?u("UNMOUNT"):s&&a!==r?u("ANIMATION_OUT"):u("UNMOUNT"),d.current=e}},[e,u]),(0,a.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,s=s=>{let a=n(o.current).includes(s.animationName);if(s.target===i&&a&&(u("ANIMATION_END"),!d.current)){let s=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=s)})}},a=e=>{e.target===i&&(c.current=n(o.current))};return i.addEventListener("animationstart",a),i.addEventListener("animationcancel",s),i.addEventListener("animationend",s),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",a),i.removeEventListener("animationcancel",s),i.removeEventListener("animationend",s)}}u("ANIMATION_END")},[i,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:t.useCallback(e=>{e&&(o.current=getComputedStyle(e)),l(e)},[])}}(o),m="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),u=(0,s.useComposedRefs)(c.ref,(r=m,(l=(i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?r.ref:(l=(i=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?r.props.ref:r.props.ref||r.ref));return"function"==typeof d||c.isPresent?t.cloneElement(m,{ref:u}):null};function n(e){return e?.animationName||"none"}r.displayName="Presence",e.s(["Presence",()=>r])},630374,991101,e=>{"use strict";var t=e.i(794313),s=e.i(368340),a=e.i(178896),r=e.i(400866),n=e.i(929517),i=e.i(119960),l=e.i(788552),o=e.i(408803),d=e.i(283182),c=e.i(951545),m=e.i(260737),u=e.i(620673),x=e.i(956278),p=e.i(214329),h=e.i(73772),g=e.i(564701),f="Dialog",[j,v]=(0,n.createContextScope)(f),[y,b]=j(f),N=e=>{let{__scopeDialog:a,children:r,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,m=s.useRef(null),u=s.useRef(null),[x=!1,p]=(0,l.useControllableState)({prop:n,defaultProp:o,onChange:d});return(0,t.jsx)(y,{scope:a,triggerRef:m,contentRef:u,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:x,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(e=>!e),[p]),modal:c,children:r})};N.displayName=f;var w="DialogTrigger",_=s.forwardRef((e,s)=>{let{__scopeDialog:n,...i}=e,l=b(w,n),o=(0,r.useComposedRefs)(s,l.triggerRef);return(0,t.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":L(l.open),...i,ref:o,onClick:(0,a.composeEventHandlers)(e.onClick,l.onOpenToggle)})});_.displayName=w;var C="DialogPortal",[S,k]=j(C,{forceMount:void 0}),D=e=>{let{__scopeDialog:a,forceMount:r,children:n,container:i}=e,l=b(C,a);return(0,t.jsx)(S,{scope:a,forceMount:r,children:s.Children.map(n,e=>(0,t.jsx)(m.Presence,{present:r||l.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};D.displayName=C;var I="DialogOverlay",T=s.forwardRef((e,s)=>{let a=k(I,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,i=b(I,e.__scopeDialog);return i.modal?(0,t.jsx)(m.Presence,{present:r||i.open,children:(0,t.jsx)(A,{...n,ref:s})}):null});T.displayName=I;var A=s.forwardRef((e,s)=>{let{__scopeDialog:a,...r}=e,n=b(I,a);return(0,t.jsx)(p.RemoveScroll,{as:g.Slot,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(u.Primitive.div,{"data-state":L(n.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),P="DialogContent",R=s.forwardRef((e,s)=>{let a=k(P,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,i=b(P,e.__scopeDialog);return(0,t.jsx)(m.Presence,{present:r||i.open,children:i.modal?(0,t.jsx)(E,{...n,ref:s}):(0,t.jsx)(O,{...n,ref:s})})});R.displayName=P;var E=s.forwardRef((e,n)=>{let i=b(P,e.__scopeDialog),l=s.useRef(null),o=(0,r.useComposedRefs)(n,i.contentRef,l);return s.useEffect(()=>{let e=l.current;if(e)return(0,h.hideOthers)(e)},[]),(0,t.jsx)(F,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),O=s.forwardRef((e,a)=>{let r=b(P,e.__scopeDialog),n=s.useRef(!1),i=s.useRef(!1);return(0,t.jsx)(F,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),F=s.forwardRef((e,a)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,...m}=e,u=b(P,n),p=s.useRef(null),h=(0,r.useComposedRefs)(a,p);return(0,x.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":L(u.open),...m,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X,{titleId:u.titleId}),(0,t.jsx)(Z,{contentRef:p,descriptionId:u.descriptionId})]})]})}),M="DialogTitle",U=s.forwardRef((e,s)=>{let{__scopeDialog:a,...r}=e,n=b(M,a);return(0,t.jsx)(u.Primitive.h2,{id:n.titleId,...r,ref:s})});U.displayName=M;var $="DialogDescription",q=s.forwardRef((e,s)=>{let{__scopeDialog:a,...r}=e,n=b($,a);return(0,t.jsx)(u.Primitive.p,{id:n.descriptionId,...r,ref:s})});q.displayName=$;var z="DialogClose",B=s.forwardRef((e,s)=>{let{__scopeDialog:r,...n}=e,i=b(z,r);return(0,t.jsx)(u.Primitive.button,{type:"button",...n,ref:s,onClick:(0,a.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function L(e){return e?"open":"closed"}B.displayName=z;var H="DialogTitleWarning",[V,W]=(0,n.createContext)(H,{contentName:P,titleName:M,docsSlug:"dialog"}),X=({titleId:e})=>{let t=W(H),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Z=({contentRef:e,descriptionId:t})=>{let a=W("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>B,"Content",()=>R,"Description",()=>q,"Overlay",()=>T,"Portal",()=>D,"Root",()=>N,"Title",()=>U,"Trigger",()=>_,"WarningProvider",()=>V,"createDialogScope",()=>v],991101);var J=e.i(534853),J=J,K=e.i(647163);function G({...e}){return(0,t.jsx)(N,{"data-slot":"dialog",...e})}function Q({...e}){return(0,t.jsx)(_,{"data-slot":"dialog-trigger",...e})}function Y({...e}){return(0,t.jsx)(D,{"data-slot":"dialog-portal",...e})}function ee({className:e,...s}){return(0,t.jsx)(T,{"data-slot":"dialog-overlay",className:(0,K.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function et({className:e,children:s,showCloseButton:a=!0,...r}){return(0,t.jsxs)(Y,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ee,{}),(0,t.jsxs)(R,{"data-slot":"dialog-content",className:(0,K.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[s,a&&(0,t.jsxs)(B,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(J.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function es({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,K.cn)("flex flex-col gap-2 text-center sm:text-left",e),...s})}function ea({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,K.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function er({className:e,...s}){return(0,t.jsx)(U,{"data-slot":"dialog-title",className:(0,K.cn)("text-lg leading-none font-semibold",e),...s})}function en({className:e,...s}){return(0,t.jsx)(q,{"data-slot":"dialog-description",className:(0,K.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>G,"DialogContent",()=>et,"DialogDescription",()=>en,"DialogFooter",()=>ea,"DialogHeader",()=>es,"DialogTitle",()=>er,"DialogTrigger",()=>Q],630374)},705576,e=>{"use strict";let t=(0,e.i(510965).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],705576)},726773,e=>{"use strict";let t=(0,e.i(510965).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],726773)},272809,e=>{"use strict";var t=e.i(116212);e.s(["Check",()=>t.default])},388297,e=>{"use strict";let t=(0,e.i(510965).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],388297)},25525,e=>{"use strict";let t=(0,e.i(510965).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],25525)},584244,e=>{"use strict";let t=(0,e.i(510965).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],584244)},958595,e=>{"use strict";let t=(0,e.i(510965).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],958595)},812884,e=>{"use strict";var t=e.i(794313),s=e.i(368340),a=e.i(167881),r=e.i(23750),n=e.i(994179),i=e.i(630374),l=e.i(10708),o=e.i(62870),d=e.i(184762),c=e.i(705576),m=e.i(813637),u=e.i(468793),x=e.i(272809),p=e.i(934290),h=e.i(286591),g=e.i(462412),f=e.i(584244),j=e.i(25525),v=e.i(589457),y=e.i(958595),b=e.i(787524),N=e.i(388297),w=e.i(726773);let _=(0,e.i(510965).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var C=e.i(120682);let S="https://srv.digitalmadrasa.co.in/api/v1";function k(){let{toast:e}=(0,C.useToast)(),[k,D]=(0,s.useState)([]),[I,T]=(0,s.useState)(!0),[A,P]=(0,s.useState)(""),[R,E]=(0,s.useState)("all"),[O,F]=(0,s.useState)("all"),[M,U]=(0,s.useState)(""),[$,q]=(0,s.useState)(""),[z,B]=(0,s.useState)("all"),[L,H]=(0,s.useState)(!1),[V,W]=(0,s.useState)(!1),[X,Z]=(0,s.useState)(!1),[J,K]=(0,s.useState)(!1),[G,Q]=(0,s.useState)(null),[Y,ee]=(0,s.useState)(""),[et,es]=(0,s.useState)(""),[ea,er]=(0,s.useState)(""),[en,ei]=(0,s.useState)(null),[el,eo]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{if(J&&G?.user_id)try{let e=await fetch(`${S}/affiliate-bank/user/${G.user_id}`),t=await e.json();t.success&&t.data?ec(t.data.data||t.data):ec(null)}catch(e){console.error("Error fetching bank details",e),ec(null)}})()},[J,G]);let em=async()=>{T(!0);try{let e=new URLSearchParams;e.append("limit","100"),e.append("offset","0"),"all"!==R&&e.append("status",R),"all"!==O&&e.append("payment_method_of_settlement",O);let t=await fetch(`${S}/payout-requests?${e.toString()}`),s=await t.json();if(console.log("Payout requests fetched:",s),s.success&&s.items)D(s.items);else throw Error(s.error||"Failed to fetch payout requests")}catch(t){console.error("Error fetching payouts:",t),e({title:"Error",description:"Failed to load payout requests. Please try again.",variant:"destructive"})}finally{T(!1)}};(0,s.useEffect)(()=>{em()},[R,O]);let eu=k.filter(e=>{let t=e.user_id.toString().includes(A)||e.id.toString().includes(A)||e.transaction_reference_no?.toLowerCase().includes(A.toLowerCase()),s=!M||e.amount_cents>=100*Number.parseFloat(M),a=!$||e.amount_cents<=100*Number.parseFloat($);return t&&s&&a}),ex=e=>{Q(e),H(!0)},ep=async(e,t)=>{try{let s=e.type||"application/octet-stream";S.replace("/api/v1","");let a=`${S}/static/objects?path=${encodeURIComponent(t)}&contentType=${encodeURIComponent(s)}`;if(!(await fetch(a,{method:"POST",headers:{},body:e})).ok)throw Error("Upload failed");return`https://cdn.digitalmadrasa.co.in/${t}`}catch(e){return console.error("Upload error:",e),null}},eh=async t=>{try{let s=null;if(en){eo(!0);let a=Date.now(),r=en.name.replace(/[^a-zA-Z0-9.]/g,"_"),n=`settlement-proofs/${t.id}_${a}_${r}`;if(s=await ep(en,n),eo(!1),!s)return void e({title:"Error",description:"Failed to upload proof of settlement.",variant:"destructive"})}let a=await fetch(`${S}/payout-requests/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",processed_at:new Date().toISOString(),note:Y||"Approved for payment",transaction_reference_no:et||null,payment_method_of_settlement:ea||null,proof_of_settlement:s||null})}),r=await a.json();if(console.log("Approve response:",r),r.success)await em(),W(!1),ee(""),es(""),er(""),ei(null),e({title:"Payout Approved",description:`Request #${t.id} has been approved and is ready for payment.`});else throw Error(r.error||"Failed to approve payout")}catch(t){console.error("Error approving payout:",t),e({title:"Error",description:"Failed to approve payout. Please try again.",variant:"destructive"})}},eg=async t=>{if(!Y.trim())return void e({title:"Error",description:"Please enter a reason for rejection.",variant:"destructive"});try{let s=await fetch(`${S}/payout-requests/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected",processed_at:new Date().toISOString(),note:Y})}),a=await s.json();if(console.log("Reject response:",a),a.success)await em(),Z(!1),ee(""),e({title:"Payout Rejected",description:`Request #${t.id} has been rejected.`,variant:"destructive"});else throw Error(a.error||"Failed to reject payout")}catch(t){console.error("Error rejecting payout:",t),e({title:"Error",description:"Failed to reject payout. Please try again.",variant:"destructive"})}},ef=async t=>{if(!et.trim()||!ea)return void e({title:"Error",description:"Please provide transaction reference and payment method.",variant:"destructive"});try{let s=null;if(en){eo(!0);let a=Date.now(),r=en.name.replace(/[^a-zA-Z0-9.]/g,"_"),n=`settlement-proofs/${t.id}_${a}_${r}`;if(s=await ep(en,n),eo(!1),!s)return void e({title:"Error",description:"Failed to upload proof of settlement.",variant:"destructive"})}let a=await fetch(`${S}/payout-requests/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paid",processed_at:new Date().toISOString(),transaction_reference_no:et,payment_method_of_settlement:ea,proof_of_settlement:s||null,note:Y||"Payment processed"})}),r=await a.json();if(console.log("Mark paid response:",r),r.success)await em(),K(!1),es(""),er(""),ei(null),ee(""),e({title:"Payment Settled",description:`Payout #${t.id} has been marked as paid.`});else throw Error(r.error||"Failed to mark payout as paid")}catch(t){console.error("Error marking payout as paid:",t),e({title:"Error",description:"Failed to mark payout as paid. Please try again.",variant:"destructive"})}},ej=e=>`₹${(e/100).toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0})}`,ev=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ey=e=>{let s={pending:{color:"bg-amber-100 text-amber-700 border-amber-200",label:"Pending",icon:h.Clock},approved:{color:"bg-blue-100 text-blue-700 border-blue-200",label:"Approved",icon:N.CheckCircle},paid:{color:"bg-emerald-100 text-emerald-700 border-emerald-200",label:"Paid",icon:x.Check},rejected:{color:"bg-rose-100 text-rose-700 border-rose-200",label:"Rejected",icon:w.XCircle}},a=s[e]||s.pending,r=a.icon;return(0,t.jsxs)(n.Badge,{className:`${a.color} border flex items-center gap-1.5 font-medium px-2.5 py-0.5`,variant:"outline",children:[(0,t.jsx)(r,{className:"w-3.5 h-3.5"}),a.label]})};k.length;let eb=k.filter(e=>"pending"===e.status).length,eN=k.filter(e=>"approved"===e.status).length,ew=k.filter(e=>"paid"===e.status).reduce((e,t)=>e+t.amount_cents,0);return I?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading payout requests..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#0066ff] to-[#0052cc] rounded-none sm:rounded-2xl sm:m-4 sm:mb-6 p-6 sm:p-8 text-white shadow-lg",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold font-heading",children:"Payout Requests"}),(0,t.jsx)("p",{className:"text-white/90 text-sm mt-1",children:"Manage affiliate payout requests and process settlements"})]}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,t.jsxs)(a.Button,{variant:"secondary",className:"gap-2 bg-white text-[#0066ff] hover:bg-white/90 text-sm sm:text-base",onClick:()=>{if(0===eu.length)return void e({title:"No Data",description:"There are no payout requests to export.",variant:"default"});let t=new Blob([["ID,User ID,Amount (INR),Status,Created At,Processed At,Transaction Ref,Payment Method"].concat(eu.map(e=>{let t=(e.amount_cents/100).toFixed(2),s=e.created_at?new Date(e.created_at).toLocaleString().replace(/,/g," "):"",a=e.processed_at?new Date(e.processed_at).toLocaleString().replace(/,/g," "):"N/A",r=e.transaction_reference_no||"N/A",n=e.payment_method_of_settlement||"N/A";return`${e.id},${e.user_id},${t},${e.status},${s},${a},${r},${n}`})).join("\n")],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(t),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",`payouts_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:[(0,t.jsx)(m.Download,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Export CSV"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Export"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 pt-6 border-t border-white/20",children:[(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl font-bold mb-1",children:eb}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-white/90 font-medium",children:"Pending Requests"})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl font-bold mb-1",children:eN}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-white/90 font-medium",children:"Approved"})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl font-bold mb-1",children:k.filter(e=>"paid"===e.status).length}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-white/90 font-medium",children:"Completed"})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1",children:ej(ew)}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-white/90 font-medium",children:"Total Paid"})]})]})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-200 shadow-sm mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(_,{className:"w-4 h-4 text-gray-600"}),(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Filters & Search"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsx)(c.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(r.Input,{placeholder:"Search by ID, user ID, txn ref...",className:"pl-10 h-11 border-gray-300",value:A,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)(o.Select,{value:R,onValueChange:E,children:[(0,t.jsx)(o.SelectTrigger,{className:"h-11 border-gray-300",children:(0,t.jsx)(o.SelectValue,{placeholder:"Status"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Status"}),(0,t.jsx)(o.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(o.SelectItem,{value:"approved",children:"Approved"}),(0,t.jsx)(o.SelectItem,{value:"paid",children:"Paid"}),(0,t.jsx)(o.SelectItem,{value:"rejected",children:"Rejected"})]})]}),(0,t.jsxs)(o.Select,{value:O,onValueChange:F,children:[(0,t.jsx)(o.SelectTrigger,{className:"h-11 border-gray-300",children:(0,t.jsx)(o.SelectValue,{placeholder:"Payment Method"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Methods"}),(0,t.jsx)(o.SelectItem,{value:"upi",children:"UPI"}),(0,t.jsx)(o.SelectItem,{value:"bank_transfer",children:"Bank Transfer"}),(0,t.jsx)(o.SelectItem,{value:"razorpayx",children:"RazorpayX"}),(0,t.jsx)(o.SelectItem,{value:"manual",children:"Manual Cash"})]})]}),(0,t.jsx)(r.Input,{type:"number",placeholder:"Min Amount (₹)",className:"h-11 border-gray-300",value:M,onChange:e=>U(e.target.value)}),(0,t.jsx)(r.Input,{type:"number",placeholder:"Max Amount (₹)",className:"h-11 border-gray-300",value:$,onChange:e=>q(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"block lg:hidden divide-y divide-gray-100",children:0===eu.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(b.AlertCircle,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,t.jsx)("p",{className:"font-medium",children:"No payout requests found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your filters"})]}):eu.map(e=>(0,t.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(g.FileText,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-mono text-sm font-semibold text-gray-900 block",children:["#",e.id]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["User #",e.user_id]})]})]}),ey(e.status)]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:ej(e.amount_cents)})]}),e.transaction_reference_no&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Txn Ref:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-gray-700",children:e.transaction_reference_no})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>ex(e),className:"gap-1.5 text-gray-600 flex-1 sm:flex-none",children:[(0,t.jsx)(u.Eye,{className:"w-4 h-4"}),"View"]}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>{Q(e),W(!0)},className:"gap-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 flex-1 sm:flex-none",children:[(0,t.jsx)(x.Check,{className:"w-4 h-4"}),"Approve"]}),(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>{Q(e),Z(!0)},className:"gap-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 flex-1 sm:flex-none",children:[(0,t.jsx)(p.X,{className:"w-4 h-4"}),"Reject"]})]}),"approved"===e.status&&(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>{Q(e),K(!0)},className:"gap-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 flex-1 sm:flex-none",children:[(0,t.jsx)(v.CreditCard,{className:"w-4 h-4"}),"Mark Paid"]})]})]},e.id))}),(0,t.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"ID"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Method"}),(0,t.jsx)("th",{className:"text-right p-4 text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===eu.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:6,className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(b.AlertCircle,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,t.jsx)("p",{className:"font-medium",children:"No payout requests found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your filters"})]})}):eu.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(g.FileText,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsxs)("span",{className:"font-mono text-sm font-medium text-gray-900",children:["#",e.id]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.User,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:e.user_full_name||`User #${e.user_id}`})]}),e.user_email&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.user_email}),!e.user_email&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Wallet #",e.wallet_id]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:ej(e.amount_cents)})}),(0,t.jsx)("td",{className:"p-4",children:ey(e.status)}),(0,t.jsx)("td",{className:"p-4",children:e.payment_method_of_settlement?(0,t.jsx)(n.Badge,{variant:"outline",className:"capitalize border-gray-300",children:e.payment_method_of_settlement.replace("_"," ")}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"—"})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:()=>ex(e),className:"gap-1.5 text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(u.Eye,{className:"w-4 h-4"}),"View"]}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{Q(e),W(!0)},className:"gap-1.5 text-green-600 hover:text-green-700 hover:bg-green-50",children:[(0,t.jsx)(x.Check,{className:"w-4 h-4"}),"Approve"]}),(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{Q(e),Z(!0)},className:"gap-1.5 text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,t.jsx)(p.X,{className:"w-4 h-4"}),"Reject"]})]}),"approved"===e.status&&(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{Q(e),K(!0)},className:"gap-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,t.jsx)(v.CreditCard,{className:"w-4 h-4"}),"Mark Paid"]})]})})]},e.id))})]})})]})]}),(0,t.jsx)(i.Dialog,{open:L,onOpenChange:H,children:(0,t.jsxs)(i.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{className:"text-xl font-heading",children:"Payout Request Details"}),(0,t.jsx)(i.DialogDescription,{children:"Complete information about this payout request"})]}),G&&(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)(f.User,{className:"w-4 h-4"}),"User Information"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"User ID:"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:["#",G.user_id]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Wallet ID:"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:["#",G.wallet_id]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)(j.Wallet,{className:"w-4 h-4"}),"Payout Information"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Request ID:"}),(0,t.jsxs)("span",{className:"font-mono font-medium text-gray-900",children:["#",G.id]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Status:"}),ey(G.status)]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,t.jsx)("span",{className:"font-bold text-emerald-600 text-lg",children:ej(G.amount_cents)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Requested At:"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:ev(G.requested_at)})]}),G.processed_at&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Processed At:"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:ev(G.processed_at)})]}),G.note&&(0,t.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"text-gray-600 block mb-1",children:"Note:"}),(0,t.jsx)("p",{className:"text-gray-900",children:G.note})]})]})]}),"paid"===G.status&&(0,t.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-emerald-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)(v.CreditCard,{className:"w-4 h-4"}),"Settlement Information"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[G.transaction_reference_no&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-emerald-700",children:"Transaction Ref:"}),(0,t.jsx)("span",{className:"font-mono font-medium text-emerald-900",children:G.transaction_reference_no})]}),G.payment_method_of_settlement&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-emerald-700",children:"Payment Method:"}),(0,t.jsx)(n.Badge,{variant:"outline",className:"capitalize border-emerald-300 text-emerald-800",children:G.payment_method_of_settlement.replace("_"," ")})]}),G.proof_of_settlement&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-emerald-700 block mb-2",children:"Proof of Settlement:"}),(0,t.jsxs)("a",{href:G.proof_of_settlement,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[(0,t.jsx)(y.ExternalLink,{className:"w-4 h-4"}),"View/Download Proof"]})]})]})]}),"approved"===G.status&&(0,t.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200 flex items-start gap-3",children:[(0,t.jsx)(b.AlertCircle,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-amber-900",children:"Awaiting Payment Settlement"}),(0,t.jsx)("p",{className:"text-xs text-amber-700 mt-1",children:"This payout is approved but payment has not been settled yet."})]})]})]}),(0,t.jsx)(i.DialogFooter,{className:"mt-4",children:(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>H(!1),children:"Close"})})]})}),(0,t.jsx)(i.Dialog,{open:V,onOpenChange:W,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsxs)(i.DialogTitle,{className:"text-xl font-heading flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-emerald-600"}),"Approve Payout Request"]}),(0,t.jsx)(i.DialogDescription,{children:"Confirm approval of this payout request. It will be moved to the payment queue."})]}),G&&(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-emerald-700",children:"Affiliate:"}),(0,t.jsxs)("span",{className:"font-medium text-emerald-900",children:["User #",G.user_id]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-emerald-700",children:"Net Amount:"}),(0,t.jsx)("span",{className:"font-bold text-emerald-900 text-lg",children:ej(G.amount_cents)})]})]})}),(0,t.jsxs)(i.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>{W(!1),ee(""),es(""),er(""),ei(null)},className:"border-slate-300",children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:()=>G&&eh(G),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,t.jsx)(x.Check,{className:"w-4 h-4 mr-2"}),"Approve Request"]})]})]})}),(0,t.jsx)(i.Dialog,{open:X,onOpenChange:Z,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsxs)(i.DialogTitle,{className:"text-xl font-heading flex items-center gap-2",children:[(0,t.jsx)(w.XCircle,{className:"w-5 h-5 text-rose-600"}),"Reject Payout Request"]}),(0,t.jsx)(i.DialogDescription,{children:"Please provide a detailed reason for rejecting this payout. The affiliate will be notified."})]}),G&&(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"bg-rose-50 rounded-lg p-4 border border-rose-200 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-rose-700",children:"Affiliate:"}),(0,t.jsxs)("span",{className:"font-medium text-rose-900",children:["User #",G.user_id]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-rose-700",children:"Amount:"}),(0,t.jsx)("span",{className:"font-semibold text-rose-900",children:ej(G.amount_cents)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"reject-note",className:"text-sm font-medium",children:"Rejection Reason *"}),(0,t.jsx)(d.Textarea,{id:"reject-note",placeholder:"Please provide a detailed reason for rejection...",value:Y,onChange:e=>ee(e.target.value),rows:4,className:"border-rose-300 focus:border-rose-400"})]})]}),(0,t.jsxs)(i.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>{Z(!1),ee("")},className:"border-slate-300",children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:()=>G&&eg(G),className:"bg-rose-600 hover:bg-rose-700 text-white",children:[(0,t.jsx)(p.X,{className:"w-4 h-4 mr-2"}),"Reject Request"]})]})]})}),(0,t.jsx)(i.Dialog,{open:J,onOpenChange:K,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsxs)(i.DialogTitle,{className:"text-xl font-heading flex items-center gap-2",children:[(0,t.jsx)(v.CreditCard,{className:"w-5 h-5 text-indigo-600"}),"Settle Payout Request"]}),(0,t.jsx)(i.DialogDescription,{children:"Enter payment settlement details to complete this payout."})]}),G&&(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-indigo-700",children:"Affiliate:"}),(0,t.jsxs)("span",{className:"font-medium text-indigo-900",children:["User #",G.user_id]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-indigo-700",children:"Net Amount:"}),(0,t.jsx)("span",{className:"font-bold text-indigo-900 text-lg",children:ej(G.amount_cents)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-indigo-700",children:"Payout Method:"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:G.payment_method_of_settlement?.replace("_"," ")||"N/A"})]}),ed&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-indigo-800 uppercase mb-2",children:"Bank Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-indigo-600 block text-xs",children:"Bank Name"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:ed.bank_name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-indigo-600 block text-xs",children:"Account No"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:ed.bank_account_number||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-indigo-600 block text-xs",children:"IFSC"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:ed.ifsc_code||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-indigo-600 block text-xs",children:"Holder Name"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:ed.account_holder_name||"-"})]}),ed.upi_id&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-indigo-600 block text-xs",children:"UPI ID"}),(0,t.jsx)("span",{className:"font-medium text-indigo-900",children:ed.upi_id})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"settlement-method",className:"text-sm font-medium",children:"Payment Method *"}),(0,t.jsxs)(o.Select,{value:ea,onValueChange:er,children:[(0,t.jsx)(o.SelectTrigger,{id:"settlement-method",className:"border-slate-300",children:(0,t.jsx)(o.SelectValue,{placeholder:"Select payment method"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"upi",children:"UPI"}),(0,t.jsx)(o.SelectItem,{value:"bank_transfer",children:"Bank Transfer"}),(0,t.jsx)(o.SelectItem,{value:"razorpayx",children:"RazorpayX"}),(0,t.jsx)(o.SelectItem,{value:"manual",children:"Manual Cash"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"tx-ref",className:"text-sm font-medium",children:"Transaction Reference No *"}),(0,t.jsx)(r.Input,{id:"tx-ref",placeholder:"Enter transaction/reference ID",value:et,onChange:e=>es(e.target.value),className:"border-slate-300 font-mono"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Transaction ID from your payment provider or bank"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"proof-upload",className:"text-sm font-medium",children:"Proof of Settlement (Optional)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r.Input,{id:"proof-upload",type:"file",accept:"image/*,application/pdf",onChange:e=>ei(e.target.files?.[0]||null),className:"border-slate-300"}),en&&(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>ei(null),className:"text-rose-600 hover:text-rose-700",children:(0,t.jsx)(p.X,{className:"w-4 h-4"})})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Upload payment receipt, screenshot, or PDF proof"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"paid-note",className:"text-sm font-medium",children:"Admin Note (Optional)"}),(0,t.jsx)(d.Textarea,{id:"paid-note",placeholder:"Add any notes about this settlement...",value:Y,onChange:e=>ee(e.target.value),rows:2,className:"border-slate-300"})]})]}),(0,t.jsxs)(i.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>{K(!1),es(""),er(""),ei(null),ee("")},className:"border-slate-300",children:"Cancel"}),(0,t.jsx)(a.Button,{onClick:()=>G&&ef(G),disabled:el,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:el?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Check,{className:"w-4 h-4 mr-2"}),"Mark as Paid"]})})]})]})})]})}e.s(["default",()=>k],812884)}]);