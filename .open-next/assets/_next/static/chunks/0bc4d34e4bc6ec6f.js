(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,510965,e=>{"use strict";var t=e.i(368340);let s=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...r,width:a,height:a,stroke:e,strokeWidth:n?24*Number(i)/Number(a):i,className:s("lucide",l),...d},[...c.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]])),i=(e,r)=>{let i=(0,t.forwardRef)(({className:i,...n},l)=>(0,t.createElement)(a,{ref:l,iconNode:r,className:s(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...n}));return i.displayName=`${e}`,i};e.s(["default",()=>i],510965)},649469,e=>{"use strict";e.s(["checkUserAccess",()=>m,"clearUserAuth",()=>c,"getCurrentUser",()=>h,"getUser",()=>f,"getUserAuth",()=>o,"getUserToken",()=>g,"loginUser",()=>d,"logoutUser",()=>u,"saveUserAuth",()=>l]);var t=e.i(44215);let s="user_token",r="user_data";function a(e,t,s=7){let r=new Date;r.setTime(r.getTime()+24*s*36e5),document.cookie=`${e}=${t};expires=${r.toUTCString()};path=/;SameSite=Strict`}function i(e){let t=e+"=",s=document.cookie.split(";");for(let e=0;e<s.length;e++){let r=s[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function n(e){document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}function l(e,t){try{localStorage.setItem(s,e),localStorage.setItem(r,JSON.stringify(t)),a(s,e,7),a(r,JSON.stringify(t),7)}catch(e){console.error("Error saving user auth:",e)}}function o(){try{let e=localStorage.getItem(s),t=localStorage.getItem(r);if(e||(e=i(s)),t||(t=i(r)),e&&t)return{user:JSON.parse(t),token:e,isAuthenticated:!0}}catch(e){console.error("Error reading user auth:",e)}return{user:null,token:null,isAuthenticated:!1}}function c(){try{localStorage.removeItem(s),localStorage.removeItem(r),n(s),n(r)}catch(e){console.error("Error clearing user auth:",e)}}async function d(e,s){try{let r=await t.apiClient.post("/users/login",{email:e,password:s});if(r.success&&r.data){let{token:e,user:t}=r.data;return l(e,t),{success:!0,user:t,token:e}}return{success:!1,error:r.message||"Login failed. Please try again."}}catch(e){return console.error("Login error:",e),{success:!1,error:"Network error. Please check your connection."}}}function u(){c()}function m(){let{user:e,isAuthenticated:t}=o();return{isAuthenticated:t,canAccessDashboard:t&&e?.is_student===1,canAccessAffiliate:t&&e?.is_affiliate===1,user:e}}function h(){let{user:e}=o();return e}function f(){return h()}function g(){let{token:e}=o();return e}},44215,e=>{"use strict";e.s(["apiClient",()=>r,"default",()=>a]);var t=e.i(538036),s=e.i(649469);let r=new class{baseURL;constructor(e){this.baseURL=e}getAutoToken(){return window.location.pathname.startsWith("/admin")?(0,t.getAdminToken)():(0,s.getUserToken)()}handleUnauthorized(){window.location.pathname.startsWith("/admin")?((0,t.clearAuth)(),window.location.href="/admin-login?error=session_expired"):((0,s.clearUserAuth)(),window.location.href="/login?error=session_expired")}async request(e,t={}){let s=`${this.baseURL}${e}`,r={"Content-Type":"application/json",...t.headers};if(!r.Authorization&&!r.authorization){let e=this.getAutoToken();e&&(r.Authorization=`Bearer ${e}`)}let a={...t,headers:r};try{let e=await fetch(s,a);if(401===e.status)return this.handleUnauthorized(),{success:!1,message:"Session expired. Please login again."};let t=await e.json();if(!e.ok)return{success:!1,message:t.message||"An error occurred",errors:t.errors};return{success:!0,data:t,message:t.message}}catch(e){return console.error("API Request Error:",e),{success:!1,message:"Network error. Please try again."}}}async get(e,t){let s={};return t&&(s.Authorization=`Bearer ${t}`),this.request(e,{method:"GET",headers:s})}async post(e,t,s){let r={};return s&&(r.Authorization=`Bearer ${s}`),this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0,headers:r})}async put(e,t,s){let r={};return s&&(r.Authorization=`Bearer ${s}`),this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0,headers:r})}async delete(e,t){let s={};return t&&(s.Authorization=`Bearer ${t}`),this.request(e,{method:"DELETE",headers:s})}}("https://srv.digitalmadrasa.co.in/api/v1"),a=r},538036,e=>{"use strict";e.s(["clearAuth",()=>o,"getAdminToken",()=>h,"getAuth",()=>l,"getAuthToken",()=>m,"isAuthenticated",()=>u,"loginAdmin",()=>c,"logoutAdmin",()=>d]);var t=e.i(44215);let s="admin_token",r="admin_user";function a(e,t,s=7){let r=new Date;r.setTime(r.getTime()+24*s*36e5),document.cookie=`${e}=${t};expires=${r.toUTCString()};path=/;SameSite=Strict`}function i(e){let t=e+"=",s=document.cookie.split(";");for(let e=0;e<s.length;e++){let r=s[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function n(e){document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}function l(){try{let e=localStorage.getItem(s),t=localStorage.getItem(r);if(e||(e=i(s)),t||(t=i(r)),e&&t)return{admin:JSON.parse(t),token:e,isAuthenticated:!0}}catch(e){console.error("[v0] Error reading auth data:",e)}return{admin:null,token:null,isAuthenticated:!1}}function o(){try{localStorage.removeItem(s),localStorage.removeItem(r),n(s),n(r),console.log("[v0] Auth data cleared successfully")}catch(e){console.error("[v0] Error clearing auth data:",e)}}async function c(e,i){try{let n=await t.apiClient.post("/admins/login",{email:e,password:i});if(n.success&&n.data){let{token:e,admin:t}=n.data;try{localStorage.setItem(s,e),localStorage.setItem(r,JSON.stringify(t)),a(s,e,7),a(r,JSON.stringify(t),7),console.log("[v0] Auth data saved successfully")}catch(e){console.error("[v0] Error saving auth data:",e)}return{success:!0,admin:t,token:e}}return{success:!1,error:n.message||"Login failed. Please try again."}}catch(e){return console.error("[v0] Login error:",e),{success:!1,error:"Network error. Please check your connection."}}}function d(){o()}function u(){let{isAuthenticated:e}=l();return e}function m(){let{token:e}=l();return e}let h=m},801244,(e,t,s)=>{t.exports=e.r(45586)},468793,e=>{"use strict";let t=(0,e.i(510965).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],468793)},662245,e=>{"use strict";let t=(0,e.i(510965).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],662245)},435301,e=>{"use strict";let t=(0,e.i(510965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],435301)},893290,e=>{"use strict";let t=(0,e.i(510965).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],893290)},642838,e=>{"use strict";let t=(0,e.i(510965).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],642838)},863327,e=>{"use strict";var t=e.i(368340),s=e.i(801244),r=e.i(538036);function a(){let e=(0,s.useRouter)(),[a,i]=(0,t.useState)({admin:null,token:null,isAuthenticated:!1}),[n,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=(0,r.getAuth)();i(e),l(!1),console.log("[v0] Auth state initialized:",e.isAuthenticated?"authenticated":"not authenticated")},[]);let o=(0,t.useCallback)(async(t,s)=>{l(!0);let a=await (0,r.loginAdmin)(t,s);return a.success&&a.admin&&a.token&&(i({admin:a.admin,token:a.token,isAuthenticated:!0}),console.log("[v0] Login successful, redirecting to admin dashboard"),e.push("/admin")),l(!1),a},[e]),c=(0,t.useCallback)(()=>{(0,r.logoutAdmin)(),i({admin:null,token:null,isAuthenticated:!1}),console.log("[v0] Logout successful, redirecting to login"),e.push("/admin-login")},[e]),d=(0,t.useCallback)(()=>{i((0,r.getAuth)())},[]);return{admin:a.admin,token:a.token,isAuthenticated:a.isAuthenticated,isLoading:n,login:o,logout:c,refresh:d}}e.s(["useAuth",()=>a])},766240,e=>{"use strict";var t=e.i(794313),s=e.i(368340),r=e.i(801244),a=e.i(468793),i=e.i(893290),n=e.i(642838),l=e.i(662245),o=e.i(435301),c=e.i(863327);function d(){(0,r.useRouter)();let{login:e,isLoading:d}=(0,c.useAuth)(),[u,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[g,x]=(0,s.useState)(!1),[p,b]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),j=async t=>{if(t.preventDefault(),b(""),v(!0),!u||!h){b("Please fill in all fields"),v(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){b("Please enter a valid admin email"),v(!1);return}if(h.length<8){b("Admin password must be at least 8 characters"),v(!1);return}try{let t=await e(u,h);t.success||b(t.error||"Invalid email or password")}catch(e){console.error("Login error:",e),b("An unexpected error occurred. Please try again.")}finally{v(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen w-full bg-[#f7f3ef] flex items-center justify-center p-4 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,rgba(0,102,255,0.04)_1px,transparent_1px),linear-gradient(to_bottom,rgba(0,102,255,0.04)_1px,transparent_1px)] bg-[size:4rem_4rem]"}),(0,t.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#fff7e0] rounded-full blur-3xl opacity-40"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#0066ff]/10 rounded-full blur-3xl opacity-40"}),(0,t.jsx)("div",{className:"w-full max-w-6xl relative z-10",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,t.jsxs)("div",{className:"hidden md:flex flex-col justify-center space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-3 mb-8 p-3 rounded-xl bg-white border border-gray-200 w-fit shadow-sm",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#0066ff] flex items-center justify-center shadow-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#150101]",style:{fontFamily:"Plus Jakarta Sans"},children:"Digital Madrasa Admin"})]}),(0,t.jsx)("h1",{className:"text-5xl lg:text-6xl font-bold text-[#150101] leading-tight mb-6",style:{fontFamily:"Plus Jakarta Sans"},children:"Admin Portal Access"}),(0,t.jsx)("p",{className:"text-lg text-[#4b4b4b] leading-relaxed",children:"Secure access to manage courses, users, content, and platform analytics. Monitor and control all aspects of the Digital Madrasa learning platform."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-[#0066ff]/10 flex items-center justify-center mt-1 flex-shrink-0",children:(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4 text-[#0066ff]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-[#150101]",children:"User Management"}),(0,t.jsx)("p",{className:"text-sm text-[#4b4b4b]",children:"Manage student accounts, permissions, and enrollments"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-[#0066ff]/10 flex items-center justify-center mt-1 flex-shrink-0",children:(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4 text-[#0066ff]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-[#150101]",children:"Content Control"}),(0,t.jsx)("p",{className:"text-sm text-[#4b4b4b]",children:"Upload, edit, and organize course materials and videos"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-[#0066ff]/10 flex items-center justify-center mt-1 flex-shrink-0",children:(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4 text-[#0066ff]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-[#150101]",children:"Analytics & Reports"}),(0,t.jsx)("p",{className:"text-sm text-[#4b4b4b]",children:"Track engagement, progress, and platform performance metrics"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-[#0066ff]/10 flex items-center justify-center mt-1 flex-shrink-0",children:(0,t.jsx)(o.CheckCircle2,{className:"w-4 h-4 text-[#0066ff]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-[#150101]",children:"Security Settings"}),(0,t.jsx)("p",{className:"text-sm text-[#4b4b4b]",children:"Configure security policies and access controls"})]})]})]})]}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 lg:p-10 shadow-xl",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[#0066ff] flex items-center justify-center",children:(0,t.jsx)(l.Lock,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-[#150101]",style:{fontFamily:"Plus Jakarta Sans"},children:"Admin Sign In"}),(0,t.jsx)("p",{className:"text-sm text-[#4b4b4b]",children:"Secure administrative access"})]})]})}),(0,t.jsxs)("div",{className:"mb-6 p-3 bg-[#0066ff]/5 border border-[#0066ff]/20 rounded-lg flex items-start gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4 text-[#0066ff] mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-[#0066ff]",children:"This is a secure admin area. All login attempts are monitored and logged."})]}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-email",className:"block text-sm font-semibold text-[#150101] mb-2",children:"Admin Email"}),(0,t.jsx)("input",{type:"email",id:"admin-email",value:u,onChange:e=>m(e.target.value),placeholder:"admin@digitalmadrasa.com",disabled:y||d,className:"w-full px-4 py-3 rounded-xl border border-gray-300 bg-[#f7f3ef] text-[#150101] placeholder-[#4b4b4b] focus:outline-none focus:ring-2 focus:ring-[#0066ff] focus:border-transparent transition disabled:opacity-50 disabled:cursor-not-allowed"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-password",className:"block text-sm font-semibold text-[#150101] mb-2",children:"Admin Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:g?"text":"password",id:"admin-password",value:h,onChange:e=>f(e.target.value),placeholder:"Enter secure password",disabled:y||d,className:"w-full px-4 py-3 rounded-xl border border-gray-300 bg-[#f7f3ef] text-[#150101] placeholder-[#4b4b4b] focus:outline-none focus:ring-2 focus:ring-[#0066ff] focus:border-transparent transition disabled:opacity-50 disabled:cursor-not-allowed"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!g),disabled:y||d,className:"absolute right-3 top-3 text-[#4b4b4b] hover:text-[#150101] transition disabled:opacity-50",children:g?(0,t.jsx)(i.EyeOff,{size:20}):(0,t.jsx)(a.Eye,{size:20})})]})]}),p&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),p]}),(0,t.jsx)("button",{type:"submit",disabled:y||d,className:"w-full py-3 px-4 bg-[#0066ff] text-white font-semibold rounded-xl hover:bg-[#0052cc] hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:y||d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Shield,{size:20}),"Access Admin Portal"]})})]})]})})]})})]})}e.s(["default",()=>d])}]);