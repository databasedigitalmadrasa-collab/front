(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,290768,e=>{"use strict";let s=(0,e.i(510965).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],290768)},970065,e=>{"use strict";var s=e.i(794313),t=e.i(647163);function r({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function a({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...r})}function d({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>d,"CardHeader",()=>a,"CardTitle",()=>l])},807887,e=>{"use strict";let s=(0,e.i(510965).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>s],807887)},665739,e=>{"use strict";let s=(0,e.i(510965).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],665739)},435301,e=>{"use strict";let s=(0,e.i(510965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],435301)},774041,e=>{"use strict";let s=(0,e.i(510965).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],774041)},225136,e=>{"use strict";var s=e.i(794313),t=e.i(970065),r=e.i(167881),a=e.i(302870),l=e.i(665739),d=e.i(807887),i=e.i(774041),n=e.i(435301),x=e.i(290768),c=e.i(368340),m=e.i(44215),o=e.i(649469);function h(){let[e,h]=(0,c.useState)(!1),[p,g]=(0,c.useState)([]),[f,u]=(0,c.useState)(!0),[y,j]=(0,c.useState)(null),[b,N]=(0,c.useState)("https://digitalmadrasa.com/ref/LOADING");(0,c.useEffect)(()=>{(async()=>{let e=(0,o.getUser)();if(!e){j("User not logged in"),u(!1);return}try{let s=await m.apiClient.get(`/referrals/user/${e.id}?mode=referrer`);s.success&&s.data?.items?(g(s.data.items),s.data.items.length>0&&s.data.items[0].referral_link&&N(s.data.items[0].referral_link)):j(s.message||"Failed to fetch referrals")}catch(e){j("An error occurred while fetching referrals")}finally{u(!1)}})()},[]);let w=p.length,v=p.filter(e=>"converted"===e.status).length,C=p.reduce((e,s)=>e+s.earned_commission_cents,0)/100,k=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return(0,s.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-[#0066ff] to-[#0052cc] rounded-2xl sm:rounded-3xl p-4 sm:p-6 lg:p-8 mb-6 sm:mb-8 text-white shadow-xl",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-heading font-bold text-balance",children:"Your Referrals"}),(0,s.jsx)("p",{className:"text-white/90 mt-2 text-sm sm:text-base leading-relaxed",children:"Track all your referrals and earn commissions for every successful signup"})]}),(0,s.jsx)(r.Button,{onClick:()=>{navigator.clipboard.writeText(b),h(!0),setTimeout(()=>h(!1),2e3)},className:"bg-white text-[#0066ff] hover:bg-white/90 gap-2 w-full lg:w-auto shadow-lg font-semibold px-4 sm:px-6 text-sm sm:text-base",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.CheckCircle2,{className:"w-4 h-4"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Copy,{className:"w-4 h-4"}),"Copy Referral Link"]})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,s.jsx)(t.Card,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow rounded-2xl",children:(0,s.jsx)(t.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Total Referrals"}),(0,s.jsx)("p",{className:"text-3xl font-heading font-bold text-gray-900",children:w})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center",children:(0,s.jsx)(a.Users,{className:"w-6 h-6 text-blue-600"})})]})})}),(0,s.jsx)(t.Card,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow rounded-2xl",children:(0,s.jsx)(t.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Active Referrals"}),(0,s.jsx)("p",{className:"text-3xl font-heading font-bold text-gray-900",children:v})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-green-100 flex items-center justify-center",children:(0,s.jsx)(l.TrendingUp,{className:"w-6 h-6 text-green-600"})})]})})}),(0,s.jsx)(t.Card,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow rounded-2xl",children:(0,s.jsx)(t.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Commission Earned"}),(0,s.jsx)("p",{className:"text-3xl font-heading font-bold text-gray-900",children:k(C)})]}),(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-purple-100 flex items-center justify-center",children:(0,s.jsx)(d.Award,{className:"w-6 h-6 text-purple-600"})})]})})})]}),(0,s.jsx)(t.Card,{className:"bg-white border-gray-200 shadow-sm rounded-2xl",children:(0,s.jsx)(t.CardContent,{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl sm:text-2xl font-heading font-bold text-gray-900",children:"Referral History"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mt-2 leading-relaxed",children:"Complete list of all users you've referred to the platform"})]}),f&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(x.Loader2,{className:"w-8 h-8 text-[#0066ff] animate-spin"})}),y&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800 text-sm",children:y}),!f&&!y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:(0,s.jsxs)("table",{className:"w-full min-w-[640px]",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"#"}),(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"Email"}),(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"Referral Code"}),(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"Signup Date"}),(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"Commission"}),(0,s.jsx)("th",{className:"text-left py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm font-semibold text-gray-700",children:"Status"})]})}),(0,s.jsx)("tbody",{children:0===p.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"py-12 text-center text-gray-500 text-sm",children:"No referrals found"})}):p.map((e,t)=>(0,s.jsxs)("tr",{className:`border-t border-gray-100 hover:bg-gray-50 transition-colors ${t%2==0?"bg-white":"bg-gray-50/50"}`,children:[(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm text-gray-700 font-semibold",children:t+1}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm font-mono text-gray-700",children:(e=>{let[s,t]=e.split("@");if(!t||s.length<=4)return`${s.charAt(0)}****@${t||""}`;let r=s.slice(0,2),a=s.slice(-2);return`${r}****${a}@${t}`})(e.referred_user_email)})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm font-mono text-gray-700",children:e.referral_code})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4 text-xs sm:text-sm text-gray-700",children:e.signup_timestamp?new Date(e.signup_timestamp).toLocaleDateString():"-"}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:k(e.earned_commission_cents/100)})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-3 sm:px-4",children:(0,s.jsx)("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${"converted"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:"converted"===e.status?"Converted":e.status})})]},e.id))})]})}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-between pt-4 border-t border-gray-200 gap-3",children:(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:["Showing ",p.length," referrals"]})})]})]})})})]})}e.s(["default",()=>h])}]);